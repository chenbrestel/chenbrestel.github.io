<!DOCTYPE html>
<html dir="rtl" lang="he">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>שיעור תורני שבועי</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Heebo:wght@300;400;700&display=swap');

        body {
            font-family: 'Heebo', 'David', sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background-color: #f5f5f5;
        }
        .announcement {
            width: 600px;
            height: 600px;
            background-color: #fff9e6;
            border: none;
            border-radius: 25px;
            box-shadow: 0 10px 30px rgba(139, 69, 19, 0.15);
            position: relative;
            padding: 15px;
            box-sizing: border-box;
            text-align: center;
            overflow: hidden;
        }
        .announcement::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 8px;
            background: linear-gradient(90deg, #c3a26e, #8b4513);
        }
        .header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 7px;
        }
        .bsd {
            font-size: 22px;
            font-weight: bold;
            margin: 0;
            color: #555;
        }
        .logo-container {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .logo {
            width: 80px;
            height: auto;
            display: block;
            border-radius: 50%;
        }
        .synagogue-name {
            font-size: 16px;
            font-weight: bold;
            margin-top: 3px;
            color: #555;
            text-align: center;
        }
        .lesson-title {
            font-size: 36px;
            font-weight: 700;
            color: #8b4513;
            margin: 0px 0;
            clear: both;
        }
        .teacher-name {
            font-size: 28px;
            font-weight: 700;
            margin: 0px 0;
            color: #333;
        }
        .weekly {
            font-size: 22px;
            margin: 0px 0;
            font-weight: normal;
            background-color: #f0e6d2;
            padding: 5px 20px;
            border-radius: 20px;
            display: inline-block;
        }
        .parasha {
            font-size: 24px;
            margin: 0px 0 10px;
            color: #8b4513;
            font-weight: 700;
        }
        .questions-container {
            background-color: rgba(195, 162, 110, 0.1);
            border-radius: 15px;
            padding: 15px;
            margin-top: 5px;
            margin-bottom: 10px;
            overflow-y: visible;
        }
        .questions {
            font-size: 18px;
            text-align: right;
            line-height: 1.4;
            max-width: 100%;
        }
        .question {
            margin-bottom: 5px;
            position: relative;
            padding-right: 20px;
        }
        .question:last-child {
            margin-bottom: 0;
        }
        .question::before {
            content: "•";
            position: absolute;
            right: 0;
            color: #8b4513;
            font-weight: bold;
        }
        .decorator {
            width: 70%;
            margin: 5px auto;
            height: 4px;
            background: linear-gradient(90deg, transparent, #c3a26e, transparent);
            border: none;
        }
        .content-wrapper {
            display: flex;
            flex-direction: column;
            height: calc(100% - 180px);
            justify-content: space-between;
        }

        .main-content {
            margin-bottom: 0;
        }

        .footer {
            text-align: center;
            margin-top: 0px;
        }

        .invitation {
            font-size: 18px;
            color: #333;
            margin-bottom: 0px;
        }

        .time {
            font-weight: bold;
            font-size: 28px;
            color: #8b4513;
        }

        /* Responsive adjustments */
        @media (max-width: 600px) {
            .announcement {
                width: 100%;
                height: auto;
                min-height: 100vh;
                border-radius: 0;
                padding: 10px;
            }

            .lesson-title {
                font-size: 25px;
            }

            .teacher-name {
                font-size: 21px;
            }

            .weekly, .parasha {
                font-size: 18px;
            }

            .questions {
                font-size: 16px;
            }

            .content-wrapper {
                height: auto;
            }
        }
    </style>
</head>
<body>
    <div class="announcement">
        <div class="header">
            <div class="bsd">בס"ד ה'תשפ"ה</div>
            <div class="logo-container">
                <img src="https://chenbrestel.github.io/torah/images/ateret_rachel_logo.png" alt="לוגו בית הכנסת" class="logo">
                <div class="synagogue-name">בית הכנסת עטרת רחל</div>
                <div class="synagogue-name">בנארי 2, שכונת מקוב, רחובות</div>
            </div>
        </div>

        <div class="content-wrapper">
            <div class="main-content">
                <div class="lesson-title">אזכרה
  לשלמה בן פרידה ז"ל פיינה [לבנון -> ישראל]</div>

                <div class="teacher-name"> יוסי דורה (קרוב של שלמה ז"ל)</div>

                <div class="weekly">במסגרת שיעור הדף היומי</div>

<!--                <div class="parasha">נשא</div>-->

                <div class="decorator"></div>
            </div>

            <div class="questions-container">
                <div class="questions">
                    <div class="question">שלמה עלה לארץ מלבנון בזמן מלחמת האזרחים בלבנון. לאחר שנפצע במלחמה פציעה אנושה הצליח להחלים ממנה חלקית, בהיותו נכה ועדיין זקוק לניתוחים וטיפול רפואי הצליח בחסדי שמים לזכות ולעלות לארץ, כאן השלים סדרת ניתוחים, אך נשאר נכה בפלג גופו התחתון,
</div>
                    <div class="question">כאן בישראל גר עד סוף ימיו בעיר חולון
</div>
                    <div class="question">שלמה לא זכה למשפחה משלו אך היה דוד אהוב לא רק לאחייניו אלא לכל המשפחה המורחבת, ולכן גם ליוסי דורה היו'</div>
                </div>
            </div>

            <div class="footer">
                <div class="invitation">💫 מוזמנים ללימוד וחידוש משותפים</div>
                <div class="time">יום חמישי ט סיון 17:00</div>
            </div>
        </div>
    </div>



<!-- Add this right before the closing </body> tag -->
<div id="download-container" style="display: flex; justify-content: center; margin-top: 20px;">
  <button id="downloadBtn" style="
    background-color: #8b4513;
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 10px;
    font-family: 'Heebo', sans-serif;
    font-size: 16px;
    cursor: pointer;
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    transition: all 0.3s ease;
  ">הורד תמונה</button>
</div>

<!-- Add this script before the closing </body> tag -->
<script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
<script>
  document.getElementById('downloadBtn').addEventListener('click', function() {
    // Hide the download button before capturing
    const downloadContainer = document.getElementById('download-container');
    downloadContainer.style.display = 'none';

    // Capture the announcement div
    html2canvas(document.querySelector('.announcement'), {
      backgroundColor: null,
      scale: 2, // Higher resolution
      logging: false,
      useCORS: true // To handle images from other domains
    }).then(canvas => {
      // Convert to square if needed
      const squareCanvas = document.createElement('canvas');
      const size = Math.max(canvas.width, canvas.height);
      squareCanvas.width = size;
      squareCanvas.height = size;
      const ctx = squareCanvas.getContext('2d');

      // Fill with the same background color as the announcement
      ctx.fillStyle = '#fff9e6';
      ctx.fillRect(0, 0, size, size);

      // Calculate position to center the content
      const xOffset = (size - canvas.width) / 2;
      const yOffset = (size - canvas.height) / 2;

      // Draw the captured content centered in the square
      ctx.drawImage(canvas, xOffset, yOffset);

      // Create download link
      const link = document.createElement('a');
      link.download = 'shlomo_ben_fadida_5785' + '.png';
<!--      link.download = 'nasso_5785_' + new Date().toLocaleDateString('he-IL').replace(/\//g, '-') + '.png';-->
      link.href = squareCanvas.toDataURL('image/png');
      link.click();

      // Show the download button again
      setTimeout(() => {
        downloadContainer.style.display = 'flex';
      }, 100);
    });
  });
</script>

</body>
</html>