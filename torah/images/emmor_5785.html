<!DOCTYPE html>
<html dir="rtl" lang="he">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>×©×™×¢×•×¨ ×ª×•×¨× ×™ ×©×‘×•×¢×™</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Heebo:wght@300;400;700&display=swap');

        body {
            font-family: 'Heebo', 'David', sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background-color: #f5f5f5;
        }
        .announcement {
            width: 600px;
            height: 600px;
            background-color: #fff9e6;
            border: none;
            border-radius: 25px;
            box-shadow: 0 10px 30px rgba(139, 69, 19, 0.15);
            position: relative;
            padding: 30px;
            box-sizing: border-box;
            text-align: center;
            overflow: hidden;
        }
        .announcement::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 8px;
            background: linear-gradient(90deg, #c3a26e, #8b4513);
        }
        .header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
        }
        .bsd {
            font-size: 22px;
            font-weight: bold;
            margin: 0;
            color: #555;
        }
        .logo-container {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .logo {
            width: 80px;
            height: auto;
            display: block;
            border-radius: 50%;
        }
        .synagogue-name {
            font-size: 16px;
            font-weight: bold;
            margin-top: 3px;
            color: #555;
            text-align: center;
        }
        .lesson-title {
            font-size: 36px;
            font-weight: 700;
            color: #8b4513;
            margin: 0px 0;
            clear: both;
        }
        .teacher-name {
            font-size: 28px;
            font-weight: 700;
            margin: 0px 0;
            color: #333;
        }
        .weekly {
            font-size: 22px;
            margin: 0px 0;
            font-weight: normal;
            background-color: #f0e6d2;
            padding: 5px 20px;
            border-radius: 20px;
            display: inline-block;
        }
        .parasha {
            font-size: 24px;
            margin: 0px 0 10px;
            color: #8b4513;
            font-weight: 700;
        }
        .questions-container {
            background-color: rgba(195, 162, 110, 0.1);
            border-radius: 15px;
            padding: 15px;
            margin-top: 5px;
            margin-bottom: 20px;
            overflow-y: visible;
        }
        .questions {
            font-size: 18px;
            text-align: right;
            line-height: 1.4;
            max-width: 100%;
        }
        .question {
            margin-bottom: 10px;
            position: relative;
            padding-right: 20px;
        }
        .question:last-child {
            margin-bottom: 0;
        }
        .question::before {
            content: "â€¢";
            position: absolute;
            right: 0;
            color: #8b4513;
            font-weight: bold;
        }
        .decorator {
            width: 70%;
            margin: 15px auto;
            height: 4px;
            background: linear-gradient(90deg, transparent, #c3a26e, transparent);
            border: none;
        }
        .content-wrapper {
            display: flex;
            flex-direction: column;
            height: calc(100% - 60px);
            justify-content: space-between;
        }

        .main-content {
            margin-bottom: 0;
        }

        .footer {
            text-align: center;
            margin-top: 10px;
        }

        .invitation {
            font-size: 18px;
            color: #333;
            margin-bottom: 5px;
        }

        .time {
            font-weight: bold;
            font-size: 28px;
            color: #8b4513;
        }

        /* Responsive adjustments */
        @media (max-width: 600px) {
            .announcement {
                width: 100%;
                height: auto;
                min-height: 100vh;
                border-radius: 0;
                padding: 20px;
            }

            .lesson-title {
                font-size: 28px;
            }

            .teacher-name {
                font-size: 22px;
            }

            .weekly, .parasha {
                font-size: 18px;
            }

            .questions {
                font-size: 16px;
            }

            .content-wrapper {
                height: auto;
            }
        }
    </style>
</head>
<body>
    <div class="announcement">
        <div class="header">
            <div class="bsd">×‘×¡"×“ ×”'×ª×©×¤"×”</div>
            <div class="logo-container">
                <img src="https://chenbrestel.github.io/torah/images/ohel_bilhah.png" alt="×œ×•×’×• ×‘×™×ª ×”×›× ×¡×ª" class="logo">
                <div class="synagogue-name">×‘×™×ª ×”×›× ×¡×ª ××•×”×œ ×‘×œ×”×”</div>
            </div>
        </div>

        <div class="content-wrapper">
            <div class="main-content">
                <div class="lesson-title">ğŸ§â³ ×§×“×•×©×ª ×”××“× ×•×§×“×•×©×ª ×”×–××Ÿ: ××”×•×ª ×”×—×™×‘×•×¨ ×•×”××©××¢×•×ª</div>

                <div class="teacher-name">××œ×¢×“ ×‘×¨-××™×ª×Ÿ</div>

                <div class="weekly">×©×™×¢×•×¨ ×©×‘×•×¢×™</div>

                <div class="parasha">×××•×¨</div>

                <div class="decorator"></div>
            </div>

            <div class="questions-container">
                <div class="questions">
                    <div class="question">×”×¤×¨×©×” ××ª×—×™×œ×” ×‘×§×“×•×©×ª ×”××“× ×•××¡×™×™××ª
×‘×§×“×•×©×ª ×”×–××Ÿ
××“×•×¢ ×”×§×“×•×©×•×ª × ××¦××•×ª ×‘××•×ª×” ×¤×¨×©×” ?
                        </div>
                    <div class="question">××”×™ ××”×•×ª ×”×—×™×‘×•×¨ ×‘×™×Ÿ ×”×§×“×•×©×•×ª?</div>
                </div>
            </div>

            <div class="footer">
                <div class="invitation">ğŸ’« ××•×–×× ×™× ×œ×œ×™××•×“ ×•×—×™×“×•×© ××©×•×ª×¤×™×</div>
                <div class="time">×™××™ ×¨×‘×™×¢×™ 20:15</div>
            </div>
        </div>
    </div>



<!-- Add this right before the closing </body> tag -->
<div id="download-container" style="display: flex; justify-content: center; margin-top: 20px;">
  <button id="downloadBtn" style="
    background-color: #8b4513;
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 10px;
    font-family: 'Heebo', sans-serif;
    font-size: 16px;
    cursor: pointer;
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    transition: all 0.3s ease;
  ">×”×•×¨×“ ×ª××•× ×”</button>
</div>

<!-- Add this script before the closing </body> tag -->
<script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
<script>
  document.getElementById('downloadBtn').addEventListener('click', function() {
    // Hide the download button before capturing
    const downloadContainer = document.getElementById('download-container');
    downloadContainer.style.display = 'none';

    // Capture the announcement div
    html2canvas(document.querySelector('.announcement'), {
      backgroundColor: null,
      scale: 2, // Higher resolution
      logging: false,
      useCORS: true // To handle images from other domains
    }).then(canvas => {
      // Convert to square if needed
      const squareCanvas = document.createElement('canvas');
      const size = Math.max(canvas.width, canvas.height);
      squareCanvas.width = size;
      squareCanvas.height = size;
      const ctx = squareCanvas.getContext('2d');

      // Fill with the same background color as the announcement
      ctx.fillStyle = '#fff9e6';
      ctx.fillRect(0, 0, size, size);

      // Calculate position to center the content
      const xOffset = (size - canvas.width) / 2;
      const yOffset = (size - canvas.height) / 2;

      // Draw the captured content centered in the square
      ctx.drawImage(canvas, xOffset, yOffset);

      // Create download link
      const link = document.createElement('a');
      link.download = '×©×™×¢×•×¨_×××•×¨_' + new Date().toLocaleDateString('he-IL').replace(/\//g, '-') + '.png';
      link.href = squareCanvas.toDataURL('image/png');
      link.click();

      // Show the download button again
      setTimeout(() => {
        downloadContainer.style.display = 'flex';
      }, 100);
    });
  });
</script>

</body>
</html>